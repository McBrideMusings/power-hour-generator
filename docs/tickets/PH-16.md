---
id: 16
title: Render state storage
status: backlog
priority: high
tags:
  - render
  - smart-rerender
  - phase-4
---

# Render State Storage

Implement persistent render state tracking in `.powerhour/render-state.json`.

## Storage Format

```json
{
  "segments": {
    "segments/songs/teenagers.mp4": {
      "input_hash": "sha256:abc123...",
      "rendered_at": "2026-02-11T12:00:00Z",
      "source_path": "cache/abc123.webm",
      "duration_s": 60
    }
  },
  "global_config_hash": "sha256:def456..."
}
```

## Acceptance Criteria

- Load/save with file locking
- Handles missing or corrupt state file gracefully
- Tests for serialization round-trips
