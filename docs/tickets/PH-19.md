---
id: 19
title: Config splitting with profile_files and collection_files
status: backlog
priority: medium
tags:
  - config
  - manifest
  - phase-5
---

# Config Splitting with profile_files and collection_files

Support Kometa-style config splitting â€” define profiles and collections inline or reference external files.

## Config Design

```yaml
version: 1
video: { width: 1920, height: 1080 }

profile_files:
  - profiles/song-main.yaml
  - profiles/interstitial.yaml

collection_files:
  - collections/songs.yaml
  - collections/interstitials.yaml

# Inline and file references coexist
profiles:
  overlays:
    simple-badge:
      segments:
        - name: badge
          template: '{index}'
```

## External File Format

Profile files contain what would be under `profiles.overlays.<name>`:

```yaml
name: song-main
default_style:
  font_file: "/path/to/font.ttf"
  font_size: 42
segments:
  - name: intro-title
    template: '{title}'
```

## Acceptance Criteria

- Profiles and collections can be inline, external, or both
- Duplicate names produce clear errors
- File paths relative to project root
- Simple single-file projects work unchanged
