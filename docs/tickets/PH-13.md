---
id: 13
title: Concat list generator with timeline/directory fallback
status: backlog
priority: medium
tags:
  - concat
  - phase-3
---

# Concat List Generator

Build the concat list generator that produces the FFmpeg concat input file from either the timeline or directory fallback.

## Design

- When timeline config exists: use `TimelineResolver` to determine order
- Without timeline: fall back to sorting segment files by filename (zero-padded index prefix)
- Output format: FFmpeg concat demuxer list file at `.powerhour/concat.txt`

## Acceptance Criteria

- Generates correct concat list from timeline
- Falls back to sorted directory order without timeline
- Handles missing segments with clear errors
- Tests for both paths
