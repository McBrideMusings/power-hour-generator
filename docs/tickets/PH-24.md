---
id: 24
title: Clean command with selective cleanup
status: backlog
priority: medium
tags:
  - lifecycle
  - cli
  - phase-7
---

# Clean Command with Selective Cleanup

Add `powerhour clean` for removing derived state from projects.

## Command Interface

```bash
powerhour clean segments --project <dir>       # Remove rendered segments
powerhour clean logs --project <dir>           # Remove logs
powerhour clean orphans --project <dir>        # Remove orphaned segments
powerhour clean all --project <dir>            # Remove all derived state (keep cache)
powerhour clean segments --project <dir> --dry-run
```

## Acceptance Criteria

- `clean segments` removes rendered segments
- `clean logs` removes log files
- `clean orphans` identifies segments from deleted plan rows
- `clean all` removes all derived state but preserves cache
- `--dry-run` shows what would be removed without executing
