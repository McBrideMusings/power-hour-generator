---
id: 15
title: Render input hashing for change detection
status: backlog
priority: high
tags:
  - render
  - smart-rerender
  - phase-4
---

# Render Input Hashing for Change Detection

Define deterministic render input serialization and hashing so the system can detect when a segment needs re-rendering.

## Render Inputs (Per Segment)

A segment needs re-rendering if any of these change:

**From CSV row**: link, start_time, duration, title, artist, name, custom fields

**From config**: video settings, audio settings, resolved overlay profile, fade durations, filename template

## Design

- Compute a deterministic hash of all inputs that affect a segment's output
- Separate per-segment `input_hash` from `global_config_hash`
- If global hash differs, all segments are stale
- Hash must be stable across runs (deterministic serialization)

## Acceptance Criteria

- Hash function produces stable, deterministic output
- All render-affecting inputs are included
- Tests verify hash stability across runs
- Tests verify hash changes when inputs change
