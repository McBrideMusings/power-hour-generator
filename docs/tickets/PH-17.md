---
id: 17
title: Integrate change detection into render flow
status: backlog
priority: high
tags:
  - render
  - smart-rerender
  - phase-4
---

# Integrate Change Detection into Render Flow

Wire the hashing and state storage into the render pipeline to skip unchanged segments.

## Change Detection Flow

1. Compute current `global_config_hash`
2. If global hash differs → all segments are stale
3. Per segment: compare `input_hash` → skip if unchanged and output exists
4. Report: rendered N, skipped M, failed K

## Edge Cases

- Deleted segment files → detected and re-rendered
- Config-only changes → all segments re-rendered
- New rows → rendered (no prior state)
- Removed rows → state cleaned up
- `--force` overrides change detection

## Acceptance Criteria

- Render skips segments whose inputs haven't changed
- CSV row change only re-renders affected segments
- Config change re-renders all segments
- `--force` overrides change detection
- First run renders everything
- Deleted segment files are detected and re-rendered
