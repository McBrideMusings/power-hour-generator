---
id: 22
title: Global shared media library
status: backlog
priority: medium
tags:
  - library
  - cache
  - phase-6
---

# Global Shared Media Library

Introduce a global shared cache so source videos are downloaded once and reused across all projects.

## Library Location

- Default: `~/.powerhour/library/`
- Override: `POWERHOUR_LIBRARY` env var or `library.path` config
- Per-project opt-out: `library: { mode: local }`

## Library Structure

```
~/.powerhour/library/
  sources/                    # Downloaded source files
    k6EQAOmJrbw.webm
    8UVNT4wvIGY.webm
  index.json                  # Metadata: URL â†’ file path, ffprobe data
```

## Tasks

1. Implement library path resolution
2. Refactor cache service to support shared library
3. Update fetch to download to library by default

## Acceptance Criteria

- All projects share a single source library by default
- A source downloaded for one project is available to all
- Projects can opt into local-only cache
- No increase in network requests
